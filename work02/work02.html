<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>主線任務 2</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>

<body>
    <script>
        var obj = {
            data: {
                uuid: 'fb885474-3b59-4203-aa95-b9bec4ed4e4c',
                products: [],
            },
            getData() {
                var vm = this;
                //var url = "https://course-ec-api.hexschool.io/api/" + this.data.uuid +"/ec/products";
                var url = `https://course-ec-api.hexschool.io/api/${this.data.uuid}/ec/products`;

                axios.get(url)
                    .then(function (res) {  // API 成功時執行.then ，並取出對應資訊
                        //console.log(res.data.data);
                        vm.data.products = res.data.data;  //將取回的資料寫入 vm.data.products
                        console.log(vm.data.products);
                        //console.log(vm.data.products[0].content);
                        vm.render();

                    })
                    .catch(function (err) {  // API 執行失敗時執行 .catch 
                        console.log('錯誤訊息 :', err)
                    })
                    
            },
            render(){
                document.querySelector('#app')
                .innerHTML = `${this.data.products[0].content}`;
            }
        };
        obj.getData();
    </script>
    <div class="container">
        <h2>產品列表</h2>
        <div id="app">
        </div>
      </div>
</body>

</html>
</html>